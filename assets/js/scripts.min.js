function Util(){}Util.hasClass=function(t,e){return t.classList.contains(e)},Util.addClass=function(t,e){e=e.split(" ");t.classList.add(e[0]),1<e.length&&Util.addClass(t,e.slice(1).join(" "))},Util.removeClass=function(t,e){e=e.split(" ");t.classList.remove(e[0]),1<e.length&&Util.removeClass(t,e.slice(1).join(" "))},Util.toggleClass=function(t,e,n){n?Util.addClass(t,e):Util.removeClass(t,e)},Util.setAttributes=function(t,e){for(var n in e)t.setAttribute(n,e[n])},Util.getChildrenByClassName=function(t,e){for(var n=t.children,s=[],i=0;i<n.length;i++)Util.hasClass(n[i],e)&&s.push(n[i]);return s},Util.is=function(t,e){if(e.nodeType)return t===e;for(var n="string"==typeof e?document.querySelectorAll(e):e,s=n.length;s--;)if(n[s]===t)return!0;return!1},Util.setHeight=function(n,s,i,o,l,a){function r(t){var e=t-(u=u||t);o<e&&(e=o),t=parseInt(e/o*c+n),a&&(t=Math[a](e,n,s-n,o)),i.style.height=t+"px",e<o?window.requestAnimationFrame(r):l&&l()}var c=s-n,u=null;i.style.height=n+"px",window.requestAnimationFrame(r)},Util.scrollTo=function(n,s,i,t){var o=t||window,l=o.scrollTop||document.documentElement.scrollTop,a=null;t||(l=window.scrollY||document.documentElement.scrollTop);function r(t){var e=t-(a=a||t);s<e&&(e=s),t=Math.easeInOutQuad(e,l,n-l,s),o.scrollTo(0,t),e<s?window.requestAnimationFrame(r):i&&i()}window.requestAnimationFrame(r)},Util.moveFocus=function(t){(t=t||document.getElementsByTagName("body")[0]).focus(),document.activeElement!==t&&(t.setAttribute("tabindex","-1"),t.focus())},Util.getIndexInArray=function(t,e){return Array.prototype.indexOf.call(t,e)},Util.cssSupports=function(t,e){return"CSS"in window?CSS.supports(t,e):t.replace(/-([a-z])/g,function(t){return t[1].toUpperCase()})in document.body.style},Util.extend=function(){var n={},s=!1,t=0,e=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(s=arguments[0],t++);for(;t<e;t++)!function(t){for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(s&&"[object Object]"===Object.prototype.toString.call(t[e])?n[e]=extend(!0,n[e],t[e]):n[e]=t[e])}(arguments[t]);return n},Util.osHasReducedMotion=function(){if(!window.matchMedia)return!1;var t=window.matchMedia("(prefers-reduced-motion: reduce)");return!!t&&t.matches},Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(t){var e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e}while(null!==(e=e.parentElement||e.parentNode)&&1===e.nodeType);return null});{function CustomEvent(t,e){e=e||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}"function"!=typeof window.CustomEvent&&(CustomEvent.prototype=window.Event.prototype,window.CustomEvent=CustomEvent)}function resetFocusTabsStyle(){window.dispatchEvent(new CustomEvent("initFocusTabs"))}Math.easeInOutQuad=function(t,e,n,s){return(t/=s/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},Math.easeInQuart=function(t,e,n,s){return n*(t/=s)*t*t*t+e},Math.easeOutQuart=function(t,e,n,s){return t/=s,-n*(--t*t*t*t-1)+e},Math.easeInOutQuart=function(t,e,n,s){return(t/=s/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e},Math.easeOutElastic=function(t,e,n,s){var i=1.70158,o=.7*s,l=n;return 0==t?e:1==(t/=s)?e+n:(o=o||.3*s,i=l<Math.abs(n)?(l=n,o/4):o/(2*Math.PI)*Math.asin(n/l),l*Math.pow(2,-10*t)*Math.sin((t*s-i)*(2*Math.PI)/o)+n+e)},function(){var s=document.getElementsByClassName("js-tab-focus"),t=!1,e=!1,n=!1;function i(){0<s.length&&(l(!1),window.addEventListener("keydown",o)),window.removeEventListener("mousedown",i),n=!(e=!1)}function o(t){9===t.keyCode&&(l(!0),window.removeEventListener("keydown",o),window.addEventListener("mousedown",i),e=!0)}function l(t){for(var e=t?"":"none",n=0;n<s.length;n++)s[n].style.setProperty("outline",e)}function a(){t?n&&l(e):(t=0<s.length,window.addEventListener("mousedown",i))}a(),window.addEventListener("initFocusTabs",a)}(),function(){function t(t){this.element=t,this.items=Util.getChildrenByClassName(this.element,"js-accordion__item"),this.version=this.element.getAttribute("data-version")?"-"+this.element.getAttribute("data-version"):"",this.showClass="accordion"+this.version+"__item--is-open",this.animateHeight="on"==this.element.getAttribute("data-animation"),this.multiItems=!("off"==this.element.getAttribute("data-multi-items")),this.deepLinkOn="on"==this.element.getAttribute("data-deep-link"),this.initAccordion()}t.prototype.initAccordion=function(){for(var t=0;t<this.items.length;t++){var e=this.items[t].getElementsByTagName("button")[0],n=this.items[t].getElementsByClassName("js-accordion__panel")[0],s=Util.hasClass(this.items[t],this.showClass)?"true":"false";Util.setAttributes(e,{"aria-expanded":s,"aria-controls":"accordion-content-"+t,id:"accordion-header-"+t}),Util.addClass(e,"js-accordion__trigger"),Util.setAttributes(n,{"aria-labelledby":"accordion-header-"+t,id:"accordion-content-"+t})}this.initAccordionEvents(),this.initDeepLink()},t.prototype.initAccordionEvents=function(){var e=this;this.element.addEventListener("click",function(t){t=t.target.closest(".js-accordion__trigger");t&&0<=Util.getIndexInArray(e.items,t.parentElement)&&e.triggerAccordion(t)})},t.prototype.triggerAccordion=function(t){var e="true"===t.getAttribute("aria-expanded");this.animateAccordion(t,e,!1),!e&&this.deepLinkOn&&history.replaceState(null,"","#"+t.getAttribute("aria-controls"))},t.prototype.animateAccordion=function(t,e,n){var s=t.closest(".js-accordion__item"),i=s.getElementsByClassName("js-accordion__panel")[0],o=e?"false":"true";e||Util.addClass(s,this.showClass),t.setAttribute("aria-expanded",o),this.resetContentVisibility(s,i,e),(this.multiItems||e)&&!n||this.closeSiblings(s)},t.prototype.resetContentVisibility=function(t,e,n){Util.toggleClass(t,this.showClass,!n),e.removeAttribute("style"),n&&!this.multiItems&&this.moveContent()},t.prototype.closeSiblings=function(t){for(var e=Util.getIndexInArray(this.items,t),n=0;n<this.items.length;n++)if(Util.hasClass(this.items[n],this.showClass)&&n!=e)return this.animateAccordion(this.items[n].getElementsByClassName("js-accordion__trigger")[0],!0,!1),!1},t.prototype.moveContent=function(){var t,e=this.element.getElementsByClassName(this.showClass);0==e.length||((t=e[0].getBoundingClientRect()).top<0||t.top>window.innerHeight)&&(e=window.scrollY||document.documentElement.scrollTop,window.scrollTo(0,t.top+e))},t.prototype.initDeepLink=function(){var t,e;this.deepLinkOn&&(!(t=window.location.hash.substr(1))||""==t||(e=this.element.querySelector('.js-accordion__trigger[aria-controls="'+t+'"]'))&&"true"!==e.getAttribute("aria-expanded")&&(this.animateAccordion(e,!1,!0),setTimeout(function(){e.scrollIntoView(!0)})))},window.Accordion=t;var e=document.getElementsByClassName("js-accordion");if(0<e.length)for(var n=0;n<e.length;n++)new t(e[n])}(),function(){function t(t){var i;this.element=t,this.btn=this.element.getElementsByClassName("js-confetti-btn__btn"),this.icon=this.element.getElementsByClassName("js-confetti-btn__icon"),this.animating=!1,this.animationClass="confetti-btn--animate",this.positionVariables="--conf-btn-click-",(i=this).btn.length<1||i.icon.length<1||i.btn[0].addEventListener("click",function(t){var e,n,s;i.animating||(i.animating=!0,n=t,t=(e=i).btn[0].getBoundingClientRect(),document.documentElement.style.setProperty(e.positionVariables+"x",n.clientX-t.left+"px"),document.documentElement.style.setProperty(e.positionVariables+"y",n.clientY-t.top+"px"),Util.addClass(i.element,i.animationClass),(s=i).icon[0].addEventListener("animationend",function t(){s.icon[0].removeEventListener("animationend",t),Util.removeClass(s.element,s.animationClass),s.animating=!1}))})}var e=document.getElementsByClassName("js-confetti-btn");if(0<e.length)for(var n=0;n<e.length;n++)new t(e[n])}(),function(){function t(t){var n=t.getElementsByClassName("js-emoji-rate__comment");0!=n.length&&t.addEventListener("change",function(){var e,t;e=n[0],Util.hasClass(e,"is-hidden")&&(Util.removeClass(e,"is-hidden"),t=e.offsetHeight,window.requestAnimationFrame&&!s&&Util.setHeight(0,t,e,200,function(){var t=e.querySelector("textarea");t&&t.focus(),e.style.height=""},"easeInOutQuad"))})}var e=document.getElementsByClassName("js-emoji-rate"),s=Util.osHasReducedMotion();if(0<e.length)for(var n=0;n<e.length;n++)t(e[n])}(),function(){function t(t){this.element=t,this.controls=this.element.getElementsByClassName("js-exsidenav__control"),this.index=0,function(t){for(var e=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.floor(Math.random()*(e-t)+t)}(0,1e3),n=0;n<t.controls.length;n++){var s="exsidenav-"+e+"-"+t.index,i=t.controls[n].nextElementSibling.getAttribute("id");i||(i=s,t.controls[n].nextElementSibling.setAttribute("id",s)),t.index=t.index+1,t.controls[n].setAttribute("aria-controls",i),t.controls[n].getAttribute("aria-expanded")||t.controls[n].setAttribute("aria-expanded","false")}}(t=this),t.element.addEventListener("click",function(t){var e=t.target.closest(".js-exsidenav__control");e&&(e="true"===(t=e).getAttribute("aria-expanded")?"false":"true",t.setAttribute("aria-expanded",e))})}window.Exsidenav=t;var e=document.getElementsByClassName("js-exsidenav");if(0<e.length)for(var n=0;n<e.length;n++)new t(e[n])}(),function(){function t(t){this.element=t,this.triggers=document.querySelectorAll('[aria-controls="'+this.element.getAttribute("id")+'"]'),this.firstFocusable=null,this.lastFocusable=null,this.moveFocusEl=null,this.modalFocus=this.element.getAttribute("data-modal-first-focus")?this.element.querySelector(this.element.getAttribute("data-modal-first-focus")):null,this.selectedTrigger=null,this.preventScrollEl=this.getPreventScrollEl(),this.showClass="modal--is-visible",this.initModal()}function n(t){return t.offsetWidth||t.offsetHeight||t.getClientRects().length}t.prototype.getPreventScrollEl=function(){var t=!1,e=this.element.getAttribute("data-modal-prevent-scroll");return t=e?document.querySelector(e):t},t.prototype.initModal=function(){var e=this;if(this.triggers)for(var t=0;t<this.triggers.length;t++)this.triggers[t].addEventListener("click",function(t){t.preventDefault(),Util.hasClass(e.element,e.showClass)?e.closeModal():(e.selectedTrigger=t.target,e.showModal(),e.initModalEvents())});this.element.addEventListener("openModal",function(t){t.detail&&(e.selectedTrigger=t.detail),e.showModal(),e.initModalEvents()}),this.element.addEventListener("closeModal",function(t){t.detail&&(e.selectedTrigger=t.detail),e.closeModal()}),Util.hasClass(this.element,this.showClass)&&this.initModalEvents()},t.prototype.showModal=function(){var n=this;Util.addClass(this.element,this.showClass),this.getFocusableElements(),this.moveFocusEl&&(this.moveFocusEl.focus(),this.element.addEventListener("transitionend",function t(e){n.moveFocusEl.focus(),n.element.removeEventListener("transitionend",t)})),this.emitModalEvents("modalIsOpen"),this.preventScrollEl&&(this.preventScrollEl.style.overflow="hidden")},t.prototype.closeModal=function(){Util.hasClass(this.element,this.showClass)&&(console.log("close"),Util.removeClass(this.element,this.showClass),this.firstFocusable=null,this.lastFocusable=null,this.moveFocusEl=null,this.selectedTrigger&&this.selectedTrigger.focus(),this.cancelModalEvents(),this.emitModalEvents("modalIsClose"),this.preventScrollEl&&(this.preventScrollEl.style.overflow=""))},t.prototype.initModalEvents=function(){this.element.addEventListener("keydown",this),this.element.addEventListener("click",this)},t.prototype.cancelModalEvents=function(){this.element.removeEventListener("keydown",this),this.element.removeEventListener("click",this)},t.prototype.handleEvent=function(t){switch(t.type){case"click":this.initClick(t);case"keydown":this.initKeyDown(t)}},t.prototype.initKeyDown=function(t){t.keyCode&&9==t.keyCode||t.key&&"Tab"==t.key?this.trapFocus(t):(t.keyCode&&13==t.keyCode||t.key&&"Enter"==t.key)&&t.target.closest(".js-modal__close")&&(t.preventDefault(),this.closeModal())},t.prototype.initClick=function(t){(t.target.closest(".js-modal__close")||Util.hasClass(t.target,"js-modal"))&&(t.preventDefault(),this.closeModal())},t.prototype.trapFocus=function(t){this.firstFocusable==document.activeElement&&t.shiftKey&&(t.preventDefault(),this.lastFocusable.focus()),this.lastFocusable!=document.activeElement||t.shiftKey||(t.preventDefault(),this.firstFocusable.focus())},t.prototype.getFocusableElements=function(){var t=this.element.querySelectorAll(i);this.getFirstVisible(t),this.getLastVisible(t),this.getFirstFocusable()},t.prototype.getFirstVisible=function(t){for(var e=0;e<t.length;e++)if(n(t[e])){this.firstFocusable=t[e];break}},t.prototype.getLastVisible=function(t){for(var e=t.length-1;0<=e;e--)if(n(t[e])){this.lastFocusable=t[e];break}},t.prototype.getFirstFocusable=function(){if(this.modalFocus&&Element.prototype.matches)if(this.modalFocus.matches(i))this.moveFocusEl=this.modalFocus;else{this.moveFocusEl=!1;for(var t=this.modalFocus.querySelectorAll(i),e=0;e<t.length;e++)if(n(t[e])){this.moveFocusEl=t[e];break}this.moveFocusEl||(this.moveFocusEl=this.firstFocusable)}else this.moveFocusEl=this.firstFocusable},t.prototype.emitModalEvents=function(t){t=new CustomEvent(t,{detail:this.selectedTrigger});this.element.dispatchEvent(t)},window.Modal=t;var e,s=document.getElementsByClassName("js-modal"),i='[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex]:not([tabindex="-1"]), [contenteditable], audio[controls], video[controls], summary';if(0<s.length){for(var o=[],l=0;l<s.length;l++)e=l,o.push(new t(s[e]));window.addEventListener("keydown",function(t){if(t.keyCode&&27==t.keyCode||t.key&&"escape"==t.key.toLowerCase())for(var e=0;e<o.length;e++)o[e].closeModal()})}}(),function(){function t(t){var e;this.element=t,this.triggers=document.querySelectorAll('[aria-controls="'+this.element.getAttribute("id")+'"]'),this.firstFocusable=null,this.lastFocusable=null,this.selectedTrigger=null,this.showClass="sidebar--is-visible",this.staticClass="sidebar--static",this.customStaticClass="",this.readyClass="sidebar--loaded",this.contentReadyClass="sidebar-loaded:show",this.layout=!1,(t=(e=this).element.getAttribute("data-static-class"))&&(e.customStaticClass=" "+t),function(e){if(function(e){var t=getComputedStyle(e.element,":before").getPropertyValue("content");t&&""!=t&&"none"!=t&&(i(e),e.element.addEventListener("update-sidebar",function(t){i(e)}));t=document.getElementsByClassName(e.contentReadyClass);0<t.length&&Util.removeClass(t[0],e.contentReadyClass);Util.addClass(e.element,e.readyClass)}(e),e.triggers)for(var t=0;t<e.triggers.length;t++)e.triggers[t].addEventListener("click",function(t){return t.preventDefault(),Util.hasClass(e.element,e.showClass)?(e.selectedTrigger=t.target,void s(e)):(e.selectedTrigger=t.target,t=e,Util.addClass(t.element,t.showClass),function(t){var e=t.element.querySelectorAll('[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex]:not([tabindex="-1"]), [contenteditable], audio[controls], video[controls], summary');(function(t,e){for(var n=0;n<e.length;n++)if(e[n].offsetWidth||e[n].offsetHeight||e[n].getClientRects().length)return t.firstFocusable=e[n]})(t,e),function(t,e){for(var n=e.length-1;0<=n;n--)if(e[n].offsetWidth||e[n].offsetHeight||e[n].getClientRects().length)return t.lastFocusable=e[n]}(t,e)}(t),Util.moveFocus(t.element),(t=e).element.addEventListener("keydown",n.bind(t)),void t.element.addEventListener("click",n.bind(t)))})}(this)}function s(t){Util.removeClass(t.element,t.showClass),t.firstFocusable=null,t.lastFocusable=null,t.selectedTrigger&&t.selectedTrigger.focus(),t.element.removeAttribute("tabindex"),(t=t).element.removeEventListener("keydown",n.bind(t)),t.element.removeEventListener("click",n.bind(t))}function n(t){switch(t.type){case"click":e=this,((n=t).target.closest(".js-sidebar__close-btn")||Util.hasClass(n.target,"js-sidebar"))&&(n.preventDefault(),s(e));case"keydown":n=this,(e=t).keyCode&&27==e.keyCode||e.key&&"Escape"==e.key?s(n):(e.keyCode&&9==e.keyCode||e.key&&"Tab"==e.key)&&function(t,e){t.firstFocusable==document.activeElement&&e.shiftKey&&(e.preventDefault(),t.lastFocusable.focus());t.lastFocusable!=document.activeElement||e.shiftKey||(e.preventDefault(),t.firstFocusable.focus())}(n,e)}var e,n}function i(t){var e=getComputedStyle(t.element,":before").getPropertyValue("content").replace(/\'|"/g,"");e!=t.layout&&("static"!=(t.layout=e)&&Util.addClass(t.element,"is-hidden"),Util.toggleClass(t.element,t.staticClass+t.customStaticClass,"static"==e),"static"!=e&&setTimeout(function(){Util.removeClass(t.element,"is-hidden")}),"static"==e?t.element.removeAttribute("role","alertdialog"):t.element.setAttribute("role","alertdialog"),"static"==e&&Util.hasClass(t.element,t.showClass)&&s(t))}var e=document.getElementsByClassName("js-sidebar");if(0<e.length){for(var o=0;o<e.length;o++)new t(e[o]);var l=new CustomEvent("update-sidebar");function a(){for(var t=0;t<e.length;t++)e[t].dispatchEvent(l)}window.addEventListener("resize",function(t){window.requestAnimationFrame?window.requestAnimationFrame(a):setTimeout(function(){a()},250)}),window.requestAnimationFrame?window.requestAnimationFrame(a):a()}}(),function(){var e=document.getElementById("main-search-input");e&&window.addEventListener("keydown",function(t){t.key&&"/"==t.key.toLowerCase()&&(t.preventDefault(),e.focus())})}(),function(){function t(t){"CSS"in window&&CSS.supports("color","var(--color-var)")&&(this.element=t,this.scrollDuration=parseInt(this.element.getAttribute("data-duration"))||300,this.dataElementY=this.element.getAttribute("data-scrollable-element-y")||this.element.getAttribute("data-scrollable-element")||this.element.getAttribute("data-element"),this.scrollElementY=this.dataElementY?document.querySelector(this.dataElementY):window,this.dataElementX=this.element.getAttribute("data-scrollable-element-x"),this.scrollElementX=this.dataElementY?document.querySelector(this.dataElementX):window,this.scrollPaddingEl=document.querySelector(".js-side-template-v3__main"),this.initScroll())}t.prototype.initScroll=function(){var l=this;this.element.addEventListener("click",function(t){t.preventDefault();var e=t.target.closest(".js-smooth-scroll").getAttribute("href").replace("#",""),n=document.getElementById(e),s=n.getAttribute("tabindex"),i=l.scrollElementY.scrollTop||document.documentElement.scrollTop;l.dataElementY||(i=window.scrollY||document.documentElement.scrollTop);var t=!!l.dataElementY&&l.scrollElementY,o=l.getFixedElementHeight();Util.scrollTo(n.getBoundingClientRect().top+i-o,l.scrollDuration,function(){l.scrollHorizontally(n,o),Util.moveFocus(n),history.pushState(!1,!1,"#"+e),l.resetTarget(n,s)},t)})},t.prototype.scrollHorizontally=function(t,e){var n,s=!!this.dataElementX&&this.scrollElementX,i=(this.scrollElementX||document.documentElement).scrollLeft,o=t.getBoundingClientRect().left+i-e,l=this.scrollDuration,a=s||window,r=a.scrollLeft||document.documentElement.scrollLeft,c=null;s||(r=window.scrollX||document.documentElement.scrollLeft),Math.abs(r-o)<5||(n=function(t){var e=t-(c=c||t);l<e&&(e=l);t=Math.easeInOutQuad(e,r,o-r,l);a.scrollTo({left:t}),e<l&&window.requestAnimationFrame(n)},window.requestAnimationFrame(n))},t.prototype.resetTarget=function(n,t){parseInt(n.getAttribute("tabindex"))<0&&(t||n.removeAttribute("tabindex"),Util.addClass(n,"toc-content__target--selected"),n.addEventListener("animationend",function t(e){e.stopPropagation(),n.removeEventListener("animationend",t),Util.removeClass(n,"toc-content__target--selected")}))},t.prototype.getFixedElementHeight=function(){var t,e=parseInt(getComputedStyle(this.scrollPaddingEl).getPropertyValue("scroll-padding"));return isNaN(e)&&(e=0,(t=document.querySelector(this.element.getAttribute("data-fixed-element")))&&(e=parseInt(t.getBoundingClientRect().height))),e};var e=document.getElementsByClassName("js-smooth-scroll");if(0<e.length&&window.requestAnimationFrame)for(var n=0;n<e.length;n++)new t(e[n])}(),function(){var e,t,n=document.getElementById("switch-light-dark");n&&(e=document.getElementsByTagName("html")[0],t=n.querySelector('input[value="dark"]'),"dark"==e.getAttribute("data-theme")&&(t.checked=!0),n.addEventListener("change",function(t){"dark"==t.target.value?(e.setAttribute("data-theme","dark"),localStorage.setItem("themeSwitch","dark")):(e.removeAttribute("data-theme"),localStorage.setItem("themeSwitch","light"))}))}(),function(){function e(t){"CSS"in window&&CSS.supports("color","var(--color-var)")&&(this.options=Util.extend(e.defaults,t),this.element=this.options.element,this.input=this.element.getElementsByClassName("js-autocomplete__input")[0],this.results=this.element.getElementsByClassName("js-autocomplete__results")[0],this.resultsList=this.results.getElementsByClassName("js-autocomplete__list")[0],this.ariaResult=this.element.getElementsByClassName("js-autocomplete__aria-results"),this.resultClassName=0<this.element.getElementsByClassName("js-autocomplete__item").length?"js-autocomplete__item":"js-autocomplete__result",this.inputVal="",this.typeId=!1,this.searching=!1,this.searchingClass=this.element.getAttribute("data-autocomplete-searching-class")||"autocomplete--searching",this.dropdownActiveClass=this.element.getAttribute("data-autocomplete-dropdown-visible-class")||this.element.getAttribute("data-dropdown-active-class"),this.truncateDropdown=!(!this.element.getAttribute("data-autocomplete-dropdown-truncate")||"on"!=this.element.getAttribute("data-autocomplete-dropdown-truncate")),function(t){Util.setAttributes(t.input,{role:"combobox","aria-autocomplete":"list"});var e=t.resultsList.getAttribute("id");e&&t.input.setAttribute("aria-owns",e);t.resultsList.setAttribute("role","list")}(t=this),function(t){t.templateItems=t.resultsList.querySelectorAll("."+t.resultClassName+"[data-autocomplete-template]"),t.templateItems.length<1&&(t.templateItems=t.resultsList.querySelectorAll("."+t.resultClassName));t.templates=[];for(var e=0;e<t.templateItems.length;e++)t.templates[e]=t.templateItems[e].getAttribute("data-autocomplete-template")}(t),function(i){i.input.addEventListener("keyup",function(t){var e;e=i,("arrowdown"==(t=t).key.toLowerCase()||"40"==t.keyCode?function(t){var e;console.log("test"),Util.hasClass(t.element,t.dropdownActiveClass)&&(l(t),e=0,r(t.resultsItems[e])||(e=a(t,e,!0)),c(t.resultsItems[e]).focus())}:s)(e)}),i.input.addEventListener("search",function(t){s(i)}),i.input.addEventListener("click",function(t){s(i,!0)}),i.input.addEventListener("focus",function(t){i.autocompleteClosed?i.autocompleteClosed=!1:s(i,!0)}),i.input.addEventListener("blur",function(t){n(i,t)}),i.resultsList.addEventListener("keydown",function(t){var e,n,s;e=i,s="arrowdown"==(n=t).key.toLowerCase()||"40"==n.keyCode,t="arrowup"==n.key.toLowerCase()||"38"==n.keyCode,(s||t)&&(n.preventDefault(),n=document.activeElement.closest("."+e.resultClassName)||document.activeElement,n=Util.getIndexInArray(e.resultsItems,n),s=a(e,n,s),c(e.resultsItems[s]).focus())}),i.resultsList.addEventListener("focusout",function(t){n(i,t)}),window.addEventListener("keyup",function(t){t.keyCode&&27==t.keyCode||t.key&&"escape"==t.key.toLowerCase()?o(i,!1):(t.keyCode&&13==t.keyCode||t.key&&"enter"==t.key.toLowerCase())&&u(i,document.activeElement.closest("."+i.resultClassName),t)}),i.resultsList.addEventListener("click",function(t){u(i,t.target.closest("."+i.resultClassName),t)})}(t),this.autocompleteClosed=!1)}function n(t,e){t.element.contains(e.relatedTarget)||o(t,!1)}function s(t,e){var n=t.input.value;n==t.inputVal&&!e||(t.inputVal=n,t.typeId&&clearInterval(t.typeId),t.inputVal.length<t.options.characters?o(t,!1):e?i(t,"focus"):t.typeId=setTimeout(function(){i(t,"type")},t.options.debounce))}function o(t,e){var n,s;e?Util.hasClass(t.element,t.dropdownActiveClass)||(Util.addClass(t.element,t.dropdownActiveClass),t.input.setAttribute("aria-expanded",!0),(n=t).truncateDropdown&&(n.resultsList.style.maxHeight="",s=window.innerHeight-n.input.getBoundingClientRect().bottom-10,e=parseInt(getComputedStyle(n.resultsList).maxHeight),n.resultsList.style.maxHeight=s<e?s+"px":"")):Util.hasClass(t.element,t.dropdownActiveClass)&&(t.resultsList.contains(document.activeElement)&&(t.autocompleteClosed=!0,t.input.focus()),Util.removeClass(t.element,t.dropdownActiveClass),t.input.removeAttribute("aria-expanded"),l(t))}function i(e,t){e.searching||(e.searching=!0,Util.addClass(e.element,e.searchingClass),e.options.searchData(e.inputVal,function(t){!function(t,e){for(var n="",s=0;s<e.length;s++)n+=function(t,e){var n,s=function(t,e){var n=!1;if(1!=t.templateItems.length&&e.template){for(var s=0;s<t.templateItems.length;s++)e.template==t.templates[s]&&(n=t.templateItems[s]);n=n||t.templateItems[0]}else n=t.templateItems[0];return n.cloneNode(!0)}(t,e);for(n in Util.removeClass(s,"is-hidden"),s.setAttribute("tabindex","-1"),e)e.hasOwnProperty(n)&&("label"==n?function(t,e){var n=t.querySelector("[data-autocomplete-label]");n?n.textContent=e:t.textContent=e}(s,e[n]):"class"==n?function(t,e){Util.addClass(t,e)}(s,e[n]):"url"==n?function(t,e){t=t.querySelector("[data-autocomplete-url]");t&&t.setAttribute("href",e)}(s,e[n]):"src"==n?function(t,e){t=t.querySelector("[data-autocomplete-src]");t&&t.setAttribute("src",e)}(s,e[n]):function(t,e,n){e=t.querySelector("[data-autocomplete-"+e+"]");e&&(e.hasAttribute("data-autocomplete-html")?e.innerHTML=n:e.textContent=n)}(s,n,e[n]));return s.outerHTML}(t,e[s]);t.resultsList.innerHTML=n}(e,t),Util.removeClass(e.element,e.searchingClass),o(e,!0),(t=e).resultsItems=t.resultsList.querySelectorAll("."+t.resultClassName+'[tabindex="-1"]'),0!=t.ariaResult.length&&(t.ariaResult[0].textContent=t.resultsItems.length),e.searching=!1},t))}function l(t){t.typeId&&clearInterval(t.typeId),t.typeId=!1}function a(t,e,n){e=n?e+1:e-1;return(e=e<0?t.resultsItems.length-1:e)>=t.resultsItems.length&&(e=0),r(t.resultsItems[e])?e:a(t,e,n)}function r(t){t=t.getAttribute("role");return!t||"presentation"!=t}function c(t){var e=t,t=e.querySelectorAll("button:not([disabled]), [href]");return e=0<t.length?t[0]:e}function u(t,e,n){e&&(t.options.onClick?t.options.onClick(e,t,n,function(){o(t,!1)}):(t.input.value=((e=e).querySelector("[data-autocomplete-label]")||e).textContent,o(t,!1)),t.inputVal=t.input.value)}e.defaults={element:"",debounce:200,characters:2,searchData:!1,onClick:!1},window.Autocomplete=e}(),function(){function t(t){var n=t.getElementsByClassName("js-rate-cont__comment");0!=n.length&&t.addEventListener("change",function(){var e,t;e=n[0],Util.hasClass(e,"is-hidden")&&(Util.removeClass(e,"is-hidden"),t=e.offsetHeight,window.requestAnimationFrame&&!s&&Util.setHeight(0,t,e,200,function(){var t=e.querySelector("textarea");t&&t.focus(),e.style.height=""},"easeInOutQuad"))})}var e=document.getElementsByClassName("js-rate-cont"),s=Util.osHasReducedMotion();if(0<e.length)for(var n=0;n<e.length;n++)t(e[n])}(),function(){function t(t){this.element=t,this.modalContent=this.element.getElementsByClassName("js-modal-video__content")[0],this.media=this.element.getElementsByClassName("js-modal-video__media")[0],this.contentIsIframe="iframe"==this.media.tagName.toLowerCase(),this.modalIsOpen=!1,this.initModalVideo()}t.prototype.initModalVideo=function(){var e=this;this.addLoadListener(),this.element.addEventListener("modalIsOpen",function(t){e.modalIsOpen=!0,e.media.setAttribute("src",t.detail.closest("[aria-controls]").getAttribute("data-url"))}),this.element.addEventListener("modalIsClose",function(t){e.modalIsOpen=!1,Util.addClass(e.element,"modal--is-loading"),e.media.setAttribute("src","")})},t.prototype.addLoadListener=function(){var t=this;this.contentIsIframe?this.media.onload=function(){t.revealContent()}:this.media.addEventListener("loadedmetadata",function(){t.revealContent()})},t.prototype.revealContent=function(){this.modalIsOpen&&(Util.removeClass(this.element,"modal--is-loading"),(this.contentIsIframe?this.media.contentWindow:this.media).focus())};var e=document.getElementsByClassName("js-modal-video__media");if(0<e.length)for(var n=0;n<e.length;n++)new t(e[n].closest(".js-modal"))}(),function(){function t(t){this.element=t,this.list=this.element.getElementsByClassName("js-toc__list")[0],this.anchors=this.list.querySelectorAll('a[href^="#"]'),this.sections=function(t){for(var e=[],n=0;n<t.anchors.length;n++){var s=document.getElementById(t.anchors[n].getAttribute("href").replace("#",""));s&&e.push(s)}return e}(this),this.controller=this.element.getElementsByClassName("js-toc__control"),this.controllerLabel=this.element.getElementsByClassName("js-toc__control-label"),this.content=!((t=this).sections.length<1)&&t.sections[0].closest(".js-toc-content"),this.clickScrolling=!1,this.intervalID=!1,this.staticLayoutClass="toc--static",this.contentStaticLayoutClass="toc-content--toc-static",this.expandedClass="toc--expanded",this.isStatic=Util.hasClass(this.element,this.staticLayoutClass),this.layout="static",function(n){if(s(n),0<n.sections.length){if(n.list.addEventListener("click",function(t){t=t.target.closest('a[href^="#"]');t&&(n.clickScrolling=!0,i(n,t),o(n,!0))}),"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)for(var t=new IntersectionObserver(function(t,e){t.forEach(function(t){n.clickScrolling||function(s){s.intervalID&&clearInterval(s.intervalID);s.intervalID=setTimeout(function(){for(var t=window.innerHeight/2,e=-1,n=0;n<s.sections.length;n++)s.sections[n].getBoundingClientRect().top<t&&(e=n);-1<e&&i(s,s.anchors[e]),s.intervalID=!1},100)}(n)})},{threshold:[0,.1],rootMargin:"0px 0px -70% 0px"}),e=0;e<n.sections.length;e++)t.observe(n.sections[e]);n.element.addEventListener("toc-scroll",function(t){n.clickScrolling=!1})}n.element.addEventListener("toc-resize",function(t){s(n)}),function(n){n.controller.length<1||(n.controller[0].addEventListener("click",function(t){var e=Util.hasClass(n.element,n.expandedClass);o(n,e)}),n.element.addEventListener("keydown",function(t){"static"!=n.layout&&(t.keyCode&&27==t.keyCode||t.key&&"escape"==t.key.toLowerCase())&&(o(n,!0),n.controller[0].focus())}))}(n)}(this)}function i(t,e){if(e){for(var n=0;n<t.anchors.length;n++)Util.removeClass(t.anchors[n],"toc__link--selected");Util.addClass(e,"toc__link--selected")}}function s(t){t.isStatic||(t.layout=getComputedStyle(t.element,":before").getPropertyValue("content").replace(/\'|"/g,""),Util.toggleClass(t.element,t.staticLayoutClass,"static"==t.layout),t.content&&Util.toggleClass(t.content,t.contentStaticLayoutClass,"static"==t.layout))}function o(t,e){Util.toggleClass(t.element,t.expandedClass,!e),e?t.controller[0].removeAttribute("aria-expanded"):t.controller[0].setAttribute("aria-expanded","true"),!e&&0<t.anchors.length&&t.anchors[0].focus()}var e,n=document.getElementsByClassName("js-toc"),l=[];if(0<n.length){for(var a=0;a<n.length;a++)e=a,l.push(new t(n[e]));var r=!1,c=new CustomEvent("toc-scroll"),u=new CustomEvent("toc-resize");function d(){for(var t=0;t<l.length;t++)l[t].element.dispatchEvent(c)}function m(){for(var t=0;t<l.length;t++)l[t].element.dispatchEvent(u)}window.addEventListener("scroll",function(){clearTimeout(r),r=setTimeout(d,100)}),window.addEventListener("resize",function(){clearTimeout(!1),r=setTimeout(m,100)})}}(),function(){var s,i,t=document.getElementsByClassName("js-autocomplete");0!=t.length&&(s=[{label:"Inspector",category:"Interface",url:"basic-page.html"},{label:"Timeline",category:"Interface",url:"basic-page.html"},{label:"Comments",category:"Syntax",url:"basic-page.html"},{label:"Structure",category:"Syntax",url:"basic-page.html"},{label:"How invoicing works",category:"Invoicing > Customers",url:"basic-page.html"},{label:"Taxes",category:"Invoicing > Customers",url:"basic-page.html"}],i=[{label:"Timeline",category:"Interface",url:"basic-page.html"},{label:"Taxes",category:"Testing > Customers",url:"basic-page.html"}],new Autocomplete({element:t[0],characters:0,searchData:function(e,t){var n=i;t(n=1<e.length?s.filter(function(t){return-1<t.label.toLowerCase().indexOf(e.toLowerCase())||-1<t.category.toLowerCase().indexOf(e.toLowerCase())}):n)}}))}();